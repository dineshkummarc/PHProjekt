/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["dojo._firebug.firebug"])dojo._hasResource["dojo._firebug.firebug"]=!0,dojo.provide("dojo._firebug.firebug"),dojo.deprecated=function(m,p,n){m="DEPRECATED: "+m;p&&(m+=" "+p);n&&(m+=" -- will be removed in version: "+n);console.warn(m)},dojo.experimental=function(m,p){var n="EXPERIMENTAL: "+m+" -- APIs subject to change without notice.";p&&(n+=" "+p);console.warn(n)},function(){var m=/Trident/.test(window.navigator.userAgent);if(m){for(var p=["log","info","debug","warn","error"],
n=0;n<p.length;n++){var Q=p[n],R="_"+p[n];console[R]=console[Q];console[Q]=function(){var a=R;return function(){console[a](Array.prototype.slice.call(arguments).join(" "))}}()}try{console.clear()}catch(ka){}}if(!dojo.isFF&&!dojo.isChrome&&!dojo.isSafari&&!m&&!window.firebug&&typeof console!="undefined"&&!console.firebug&&!dojo.config.useCustomLogger&&!dojo.isAIR){try{if(window!=window.parent){if(window.parent.console)window.console=window.parent.console;return}}catch(la){}var i=document,s=window,
Y=0,j=null,f=null,t=null,h=null,y=!1,E=[],q=[],z={},F={},u=null,S,K,A=!1,L=null;document.createElement("div");var w,T;window.console={_connects:[],log:function(){r(arguments,"")},debug:function(){r(arguments,"debug")},info:function(){r(arguments,"info")},warn:function(){r(arguments,"warning")},error:function(){r(arguments,"error")},assert:function(a,b){if(!a){for(var c=[],d=1;d<arguments.length;++d)c.push(arguments[d]);r(c.length?c:["Assertion Failure"],"error");throw b?b:"Assertion Failure";}},dir:function(a){a=
G(a);a=a.replace(/\n/g,"<br />");a=a.replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;");x([a],"dir")},dirxml:function(a){var b=[];H(a,b);x(b,"dirxml")},group:function(){x(arguments,"group",Z)},groupEnd:function(){x(arguments,"",$)},time:function(a){z[a]=(new Date).getTime()},timeEnd:function(a){if(a in z){var b=(new Date).getTime()-z[a];r([a+":",b+"ms"]);delete z[a]}},count:function(a){F[a]||(F[a]=0);F[a]++;r([a+": "+F[a]])},trace:function(a){var a=a||3,b=console.trace.caller;console.log(">>> console.trace(stack)");
for(var c=0;c<a;c++){for(var d=b.toString(),e=[],o=0;o<b.arguments.length;o++)e.push(b.arguments[o]);b.arguments.length?console.dir({"function":d,arguments:e}):console.dir({"function":d});b=b.caller}},profile:function(){this.warn(["profile() not supported."])},profileEnd:function(){},clear:function(){if(f)for(;f.childNodes.length;)dojo.destroy(f.firstChild);dojo.forEach(this._connects,dojo.disconnect)},open:function(){B(!0)},close:function(){y&&B()},_restoreBorder:function(){if(w)w.style.border=T},
openDomInspector:function(){A=!0;f.style.display="none";u.style.display="block";t.style.display="none";document.body.style.cursor="pointer";S=dojo.connect(document,"mousemove",function(a){if(A&&!L&&(L=setTimeout(function(){L=null},50),(a=a.target)&&w!==a)){console._restoreBorder();var b=[];H(a,b);u.innerHTML=b.join("");w=a;T=w.style.border;w.style.border="#0000FF 1px solid"}});setTimeout(function(){K=dojo.connect(document,"click",function(){document.body.style.cursor="";A=!A;dojo.disconnect(K)})},
30)},_closeDomInspector:function(){document.body.style.cursor="";dojo.disconnect(S);dojo.disconnect(K);A=!1;console._restoreBorder()},openConsole:function(){f.style.display="block";u.style.display="none";t.style.display="none";console._closeDomInspector()},openObjectInspector:function(){f.style.display="none";u.style.display="none";t.style.display="block";console._closeDomInspector()},recss:function(){var a,b,c;b=document.getElementsByTagName("link");for(a=0;a<b.length;a++)if(c=b[a],c.rel.toLowerCase().indexOf("stylesheet")>=
0&&c.href){var d=c.href.replace(/(&|%5C?)forceReload=\d+/,"");c.href=d+(d.indexOf("?")>=0?"&":"?")+"forceReload="+(new Date).valueOf()}}};var B=function(a){y=a||!y;if(j)j.style.display=y?"block":"none"},ba=function(a,b,c,d){(a=window.open("","_firebug","status=0,menubar=0,resizable=1,top="+b+",left="+a+",width="+c+",height="+d+",scrollbars=1,addressbar=0"))||alert("Firebug Lite could not open a pop-up window, most likely because of a blocker.\nEither enable pop-ups for this domain, or change the djConfig to popup=false.");
aa(a);b=a.document;b.write('<html style="height:100%;"><head><title>Firebug Lite</title></head>\n<body bgColor="#ccc" style="height:97%;" onresize="opener.onFirebugResize()">\n<div id="fb"></div></body></html>');b.close();return a},aa=function(a){var b=new Date;b.setTime(b.getTime()+5184E6);var b=b.toUTCString(),c=a.document,d;a.innerWidth?d=function(){return{w:a.innerWidth,h:a.innerHeight}}:c.documentElement&&c.documentElement.clientWidth?d=function(){return{w:c.documentElement.clientWidth,h:c.documentElement.clientHeight}}:
c.body&&(d=function(){return{w:c.body.clientWidth,h:c.body.clientHeight}});window.onFirebugResize=function(){U(d().h);clearInterval(a._firebugWin_resize);a._firebugWin_resize=setTimeout(function(){document.cookie="_firebugPosition="+[a.screenLeft,a.screenTop,a.outerWidth||a.document.body.offsetWidth,a.outerHeight||a.document.body.offsetHeight].join(",")+"; expires="+b+"; path=/"},5E3)}};dojo.addOnLoad(function(){if(!j){if(dojo.config.popup){var a="100%",b=document.cookie.match(/(?:^|; )_firebugPosition=([^;]*)/),
b=b?b[1].split(","):[2,2,320,480];s=ba(b[0],b[1],b[2],b[3]);i=s.document;dojo.config.debugContainerId="fb";s.console=window.console;s.dojo=window.dojo}else i=document,a=(dojo.config.debugHeight||300)+"px";var c=i.createElement("link");c.href=dojo.moduleUrl("dojo._firebug","firebug.css");c.rel="stylesheet";c.type="text/css";var d=i.getElementsByTagName("head");d&&(d=d[0]);d||(d=i.getElementsByTagName("html")[0]);dojo.isIE?window.setTimeout(function(){d.appendChild(c)},0):d.appendChild(c);dojo.config.debugContainerId&&
(j=i.getElementById(dojo.config.debugContainerId));j||(j=i.createElement("div"),i.body.appendChild(j));j.className+=" firebug";j.style.height=a;j.style.display=y?"block":"none";a=function(a,b,c,d){return'<li class="'+d+'"><a href="javascript:void(0);" onclick="console.'+c+'(); return false;" title="'+b+'">'+a+"</a></li>"};j.innerHTML='<div id="firebugToolbar">  <ul id="fireBugTabs" class="tabs">'+a("Clear","Remove All Console Logs","clear","")+a("ReCSS","Refresh CSS without reloading page","recss",
"")+a("Console","Show Console Logs","openConsole","gap")+a("DOM","Show DOM Inspector","openDomInspector","")+a("Object","Show Object Inspector","openObjectInspector","")+(dojo.config.popup?"":a("Close","Close the console","close","gap"))+'\t</ul></div><input type="text" id="firebugCommandLine" /><div id="firebugLog"></div><div id="objectLog" style="display:none;">Click on an object in the Log display</div><div id="domInspect" style="display:none;">Hover over HTML elements in the main page. Click to hold selection.</div>';
i.getElementById("firebugToolbar");h=i.getElementById("firebugCommandLine");M(h,"keydown",ca);M(i,dojo.isIE||dojo.isSafari?"keydown":"keypress",N);f=i.getElementById("firebugLog");t=i.getElementById("objectLog");u=i.getElementById("domInspect");i.getElementById("fireBugTabs");U();da()}});var ea=function(){i=null;s.console&&s.console.clear();h=u=t=f=j=s=null;E=[];q=[];z={}},fa=function(){var a=h.value;h.value="";x([">  ",a],"command");var b;try{b=eval(a)}catch(c){console.debug(c)}console.log(b)},U=
function(a){a=a?a-(25+h.offsetHeight+25+a*0.01)+"px":j.offsetHeight-25-h.offsetHeight+"px";f.style.top="25px";f.style.height=a;t.style.height=a;t.style.top="25px";u.style.height=a;u.style.top="25px";h.style.bottom=0;dojo.addOnWindowUnload(ea)},x=function(a,b,c){f?V(a,b,c):E.push([a,b,c])},da=function(){var a=E;E=[];for(var b=0;b<a.length;++b)V(a[b][0],a[b][1],a[b][2])},V=function(a,b,c){var d=f.scrollTop+f.offsetHeight>=f.scrollHeight,c=c||ga;c(a,b);if(d)f.scrollTop=f.scrollHeight-f.offsetHeight},
ga=function(a,b){var c=f.ownerDocument.createElement("div");c.className="logRow"+(b?" logRow-"+b:"");c.innerHTML=a.join("");(q.length?q[q.length-1]:f).appendChild(c)},Z=function(a,b){r(a,b);var c=f.ownerDocument.createElement("div");c.className="logGroupBox";(q.length?q[q.length-1]:f).appendChild(c);q.push(c)},$=function(){q.pop()},r=function(a,b){var c=[],d=a[0],e=0;typeof d!="string"&&(d="",e=-1);for(var o=ha(d),d=0;d<o.length;++d){var f=o[d];f&&typeof f=="object"?f.appender(a[++e],c):v(f,c)}o=
[];f=[];for(d=e+1;d<a.length;++d)if(v(" ",c),e=a[d],e===void 0||e===null)O(e,c);else if(typeof e=="string")v(e,c);else if(e instanceof Date)v(e.toString(),c);else if(e.nodeType==9)v("[ XmlDoc ]",c);else{var h="_a"+Y++;o.push(h);f.push(e);e='<a id="'+h+'" href="javascript:void(0);">'+I(e)+"</a>";c.push(e+"")}x(c,b);for(d=0;d<o.length;d++)if(c=i.getElementById(o[d]))c.obj=f[d],s.console._connects.push(dojo.connect(c,"onclick",function(){console.openObjectInspector();try{G(this.obj)}catch(a){this.obj=
a}t.innerHTML="<pre>"+G(this.obj)+"</pre>"}))},ha=function(a){for(var b=[],c=/((^%|[^\\]%)(\d+)?(\.)([a-zA-Z]))|((^%|[^\\]%)([a-zA-Z]))/,d={s:v,d:P,i:P,f:ia},e=c.exec(a);e;e=c.exec(a)){var f=e[8]?e[8]:e[5],f=f in d?d[f]:ja,h=e[3]?parseInt(e[3]):e[4]=="."?-1:0;b.push(a.substr(0,e[0][0]=="%"?e.index:e.index+1));b.push({appender:f,precision:h});a=a.substr(e.index+e[0].length)}b.push(a);return b},k=function(a){return String(a).replace(/[<>&"']/g,function(a){switch(a){case "<":return"&lt;";case ">":return"&gt;";
case "&":return"&amp;";case "'":return"&#39;";case '"':return"&quot;"}return"?"})},v=function(a,b){b.push(k(a+""))},O=function(a,b){b.push('<span class="objectBox-null">',k(a+""),"</span>")},P=function(a,b){b.push('<span class="objectBox-number">',k(a+""),"</span>")},ia=function(a,b){b.push('<span class="objectBox-number">',k(a+""),"</span>")},ja=function(a,b){try{if(a===void 0)O("undefined",b);else if(a===null)O("null",b);else if(typeof a=="string")b.push('<span class="objectBox-string">&quot;',
k(a+""),"&quot;</span>");else if(typeof a=="number")P(a,b);else if(typeof a=="function")b.push('<span class="objectBox-function">',I(a),"</span>");else if(a.nodeType==1)b.push('<span class="objectBox-selector">'),b.push('<span class="selectorTag">',k(a.nodeName.toLowerCase()),"</span>"),a.id&&b.push('<span class="selectorId">#',k(a.id),"</span>"),a.className&&b.push('<span class="selectorClass">.',k(a.className),"</span>"),b.push("</span>");else if(typeof a=="object"){var c=a+"",d=/\[object (.*?)\]/.exec(c);
b.push('<span class="objectBox-object">',d?d[1]:c,"</span>")}else v(a,b)}catch(e){}},H=function(a,b){if(a.nodeType==1){b.push('<div class="objectBox-element">','&lt;<span class="nodeTag">',a.nodeName.toLowerCase(),"</span>");for(var c=0;c<a.attributes.length;++c){var d=a.attributes[c];d.specified&&b.push('&nbsp;<span class="nodeName">',d.nodeName.toLowerCase(),'</span>=&quot;<span class="nodeValue">',k(d.nodeValue),"</span>&quot;")}if(a.firstChild){b.push('&gt;</div><div class="nodeChildren">');for(c=
a.firstChild;c;c=c.nextSibling)H(c,b);b.push('</div><div class="objectBox-element">&lt;/<span class="nodeTag">',a.nodeName.toLowerCase(),"&gt;</span></div>")}else b.push("/&gt;</div>")}else a.nodeType==3&&b.push('<div class="nodeText">',k(a.nodeValue),"</div>")},M=function(a,b,c){document.all?a.attachEvent("on"+b,c):a.addEventListener(b,c,!1)},W=(new Date).getTime(),N=function(a){var b=(new Date).getTime();if(b>W+200){var a=dojo.fixEvent(a),c=dojo.keys,d=a.keyCode;W=b;if(d==c.F12)B();else if((d==
c.NUMPAD_ENTER||d==76)&&a.shiftKey&&(a.metaKey||a.ctrlKey))B(!0),h&&h.focus();else return;document.all?a.cancelBubble=!0:a.stopPropagation()}},ca=function(a){var b=dojo.keys;if(a.keyCode==13&&h.value){var a=h.value,b=(b=C("firebug_history"))?dojo.fromJson(b):[],c=dojo.indexOf(b,a);c!=-1&&b.splice(c,1);b.push(a);for(C("firebug_history",dojo.toJson(b),30);b.length&&!C("firebug_history");)b.shift(),C("firebug_history",dojo.toJson(b),30);D=null;l=-1;fa()}else if(a.keyCode==27)h.value="";else if(a.keyCode==
b.UP_ARROW||a.charCode==b.UP_ARROW)J("older");else if(a.keyCode==b.DOWN_ARROW||a.charCode==b.DOWN_ARROW)J("newer");else if(a.keyCode==b.HOME||a.charCode==b.HOME)l=1,J("older");else if(a.keyCode==b.END||a.charCode==b.END)l=999999,J("newer")},l=-1,D=null,J=function(a){var b=C("firebug_history"),b=b?dojo.fromJson(b):[];if(b.length){if(D===null)D=h.value;if(l==-1)l=b.length;if(a=="older")--l,l<0&&(l=0);else if(a=="newer"&&(++l,l>b.length))l=b.length;l==b.length?(h.value=D,D=null):h.value=b[l]}},C=function(a,
b){var c=document.cookie;if(arguments.length==1)return(c=c.match(RegExp("(?:^|; )"+a+"=([^;]*)")))?decodeURIComponent(c[1]):void 0;else c=new Date,c.setMonth(c.getMonth()+1),document.cookie=a+"="+encodeURIComponent(b)+(c.toUtcString?"; expires="+c.toUTCString():"")},X=function(a){return a&&a instanceof Array||typeof a=="array"},G=function(a,b,c,d){var c=c||"",b=b||" \t",d=d||[],e;if(a&&a.nodeType==1)return b=[],H(a,b),b.join("");var f=",\n",h=0,i;i=0;for(e in a)i++;if(a instanceof Date)return b+a.toString()+
f;var g;a:for(g in a)if(h++,h==i&&(f="\n"),!(a[g]===window||a[g]===document))if(a[g]===null)c+=b+g+" : NULL"+f;else if(a[g]&&a[g].nodeType)a[g].nodeType!=1&&a[g].nodeType==3&&(c+=b+g+" : [ TextNode "+a[g].data+" ]"+f);else if(typeof a[g]=="object"&&(a[g]instanceof String||a[g]instanceof Number||a[g]instanceof Boolean))c+=b+g+" : "+a[g]+","+f;else if(a[g]instanceof Date)c+=b+g+" : "+a[g].toString()+f;else if(typeof a[g]=="object"&&a[g]){e=0;for(var j;j=d[e];e++)if(a[g]===j){c+=b+g+" : RECURSION"+f;
continue a}d.push(a[g]);e=X(a[g])?["[","]"]:["{","}"];c+=b+g+" : "+e[0]+"\n";c+=G(a[g],b+" \t","",d);c+=b+e[1]+f}else typeof a[g]=="undefined"?c+=b+g+" : undefined"+f:g=="toString"&&typeof a[g]=="function"?(e=a[g](),typeof e=="string"&&e.match(/function ?(.*?)\(/)&&(e=k(I(a[g]))),c+=b+g+" : "+e+f):c+=b+g+" : "+k(I(a[g]))+f;return c},I=function(a){var b=a instanceof Error;if(a.nodeType==1)return k("< "+a.tagName.toLowerCase()+' id="'+a.id+'" />');if(a.nodeType==3)return k('[TextNode: "'+a.nodeValue+
'"]');var c=a&&(a.id||a.name||a.ObjectID||a.widgetId);if(!b&&c)return"{"+c+"}";var d=0;if(b)c="[ Error: "+(a.message||a.description||a)+" ]";else if(X(a))c="["+a.slice(0,4).join(","),a.length>4&&(c+=" ... ("+a.length+" items)"),c+="]";else if(typeof a=="function")(a=/function\s*([^\(]*)(\([^\)]*\))[^\{]*\{/.exec(a+""))?(a[1]||(a[1]="function"),c=a[1]+a[2]):c="function()";else if(typeof a!="object"||typeof a=="string")c=a+"";else{var c="{",e;for(e in a){d++;if(d>2)break;c+=e+":"+k(a[e])+"  "}c+="}"}return c};
M(document,dojo.isIE||dojo.isSafari?"keydown":"keypress",N);(document.documentElement.getAttribute("debug")=="true"||dojo.config.isDebug)&&B(!0);dojo.addOnWindowUnload(function(){var a=document,b=dojo.isIE||dojo.isSafari?"keydown":"keypress",c=N;document.all?a.detachEvent("on"+b,c):a.removeEventListener(b,c,!1);window.onFirebugResize=null;window.console=null})}}();