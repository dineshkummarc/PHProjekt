/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["dojo.parser"])dojo._hasResource["dojo.parser"]=!0,dojo.provide("dojo.parser"),dojo.require("dojo.date.stamp"),dojo.parser=new function(){function p(a,b){switch(b){case "string":return a;case "number":return a.length?Number(a):NaN;case "boolean":return typeof a=="boolean"?a:a.toLowerCase()!="false";case "function":c.isFunction(a)&&(a=a.toString(),a=c.trim(a.substring(a.indexOf("{")+1,a.length-1)));try{return a===""||a.search(/[^\w\.]+/i)!=-1?new Function(a):c.getObject(a,!1)||
new Function(a)}catch(d){return new Function}case "array":return a?a.split(/\s*,\s*/):[];case "date":switch(a){case "":return new Date("");case "now":return new Date;default:return c.date.stamp.fromISOString(a)}case "url":return c.baseUrl+a;default:return c.fromJson(a)}}function t(a,b){for(var d in a)if(d.charAt(0)!="_"&&!(d in x)){var g=b,l=d,h;h=a[d];h=c.isString(h)?"string":typeof h=="number"?"number":typeof h=="boolean"?"boolean":c.isFunction(h)?"function":c.isArray(h)?"array":h instanceof Date?
"date":h instanceof c._Url?"url":"object";g[l]=h}return b}function s(a,b){var d=u[a];if(d){if(!b&&!d.params)d.params=t(d.cls.prototype,{})}else{var d=c.getObject(a),g=null;if(!d)return null;b||(g=t(d.prototype,{}));d={cls:d,params:g}}return d}var c=dojo,x={},u={};c.connect(c,"extend",function(){u={}});this._functionFromScript=function(a,b){var d="",g="",l=a.getAttribute(b+"args")||a.getAttribute("args");l&&c.forEach(l.split(/\s*,\s*/),function(a,b){d+="var "+a+" = arguments["+b+"]; "});(l=a.getAttribute("with"))&&
l.length&&c.forEach(l.split(/\s*,\s*/),function(a){d+="with("+a+"){";g+="}"});return new Function(d+a.innerHTML+g)};this.instantiate=function(a,b,d){var g=[],b=b||{},d=d||{},l=(d.scope||c._scopeName)+"Type",h="data-"+(d.scope||c._scopeName)+"-";c.forEach(a,function(a){if(a){var e,j,i,n,q,o;a.node?(e=a.node,j=a.type,o=a.fastpath,n=(i=a.clsInfo||j&&s(j,o))&&i.cls,q=a.scripts):(e=a,q=(n=(i=(j=l in b?b[l]:e.getAttribute(l))&&s(j))&&i.cls)&&(n._noScript||n.prototype._noScript)?[]:c.query("> script[type^='dojo/']",
e));if(!i)throw Error("Could not load class '"+j);var f={};d.defaults&&c._mixin(f,d.defaults);a.inherited&&c._mixin(f,a.inherited);if(o){if((i=e.getAttribute(h+"props"))&&i.length)try{i=c.fromJson.call(d.propsThis,"{"+i+"}"),c._mixin(f,i)}catch(m){throw Error(m.toString()+" in data-dojo-props='"+i+"'");}if(i=e.getAttribute(h+"attach-point"))f.dojoAttachPoint=i;if(i=e.getAttribute(h+"attach-event"))f.dojoAttachEvent=i;dojo.mixin(f,b)}else{var a=e.attributes,k;for(k in i.params)if((j=k in b?{value:b[k],
specified:!0}:a.getNamedItem(k))&&(j.specified||dojo.isIE&&k.toLowerCase()=="value")){j=j.value;switch(k){case "class":j="className"in b?b.className:e.className;break;case "style":j="style"in b?b.style:e.style&&e.style.cssText}o=i.params[k];f[k]=typeof j=="string"?p(j,o):j}}var v=[],w=[];c.forEach(q,function(a){e.removeChild(a);var b=a.getAttribute(h+"event")||a.getAttribute("event"),d=a.getAttribute("type"),a=c.parser._functionFromScript(a,h);b?d=="dojo/connect"?v.push({event:b,func:a}):f[b]=a:w.push(a)});
var r=(q=n.markupFactory||n.prototype&&n.prototype.markupFactory)?q(f,e,n):new n(f,e);g.push(r);(n=e.getAttribute(h+"id")||e.getAttribute("jsId"))&&c.setObject(n,r);c.forEach(v,function(a){c.connect(r,a.event,null,a.func)});c.forEach(w,function(a){a.call(r)})}});b._started||c.forEach(g,function(a){!d.noStart&&a&&dojo.isFunction(a.startup)&&!a._started&&(!a.getParent||!a.getParent())&&a.startup()});return g};this.parse=function(a,b){function d(a,c){var e=dojo.clone(a.inherited);dojo.forEach(["dir",
"lang"],function(b){var c=a.node.getAttribute(b);c&&(e[b]=c)});for(var g=a.clsInfo&&!a.clsInfo.cls.prototype._noScript?a.scripts:null,o=!a.clsInfo||!a.clsInfo.cls.prototype.stopParser||b&&b.template,f=a.node.firstChild;f;f=f.nextSibling)if(f.nodeType==1){var m,k=o&&f.getAttribute(h+"type");m=k?k:o&&f.getAttribute(l);k=k==m;m?(m={type:m,fastpath:k,clsInfo:s(m,k),node:f,scripts:[],inherited:e},c.push(m),d(m,c)):g&&f.nodeName.toLowerCase()=="script"?(m=f.getAttribute("type"))&&/^dojo\/\w/i.test(m)&&
g.push(f):o&&d({node:f,inherited:e},c)}}var g;!b&&a&&a.rootNode?(b=a,g=b.rootNode):g=a;g=g?dojo.byId(g):dojo.body();var b=b||{},l=(b.scope||c._scopeName)+"Type",h="data-"+(b.scope||c._scopeName)+"-",p={};if(b&&b.inherited)for(var e in b.inherited)b.inherited[e]&&(p[e]=b.inherited[e]);e=[];d({node:g,inherited:p},e);return this.instantiate(e,b&&b.template?{template:!0}:null,b)}},function(){var p=function(){dojo.config.parseOnLoad&&dojo.parser.parse()};dojo.getObject("dijit.wai.onload")===dojo._loaders[0]?
dojo._loaders.splice(1,0,p):dojo._loaders.unshift(p)}();