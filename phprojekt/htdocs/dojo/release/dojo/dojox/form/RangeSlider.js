/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._hasResource["dojox.form.RangeSlider"]||(dojo._hasResource["dojox.form.RangeSlider"]=!0,dojo.provide("dojox.form.RangeSlider"),dojo.require("dijit.form.HorizontalSlider"),dojo.require("dijit.form.VerticalSlider"),dojo.require("dojox.fx"),function(){var g=function(b,a){return a-b},f=function(b,a){return b-a};dojo.declare("dojox.form._RangeSliderMixin",null,{value:[0,100],postMixInProperties:function(){this.inherited(arguments);this.value=dojo.map(this.value,function(b){return parseInt(b,10)})},
postCreate:function(){this.inherited(arguments);this.value.sort(this._isReversed()?g:f);var b=this,a=dojo.declare(dijit.form._SliderMoverMax,{constructor:function(){this.widget=b}});this._movableMax=new dojo.dnd.Moveable(this.sliderHandleMax,{mover:a});dijit.setWaiState(this.focusNodeMax,"valuemin",this.minimum);dijit.setWaiState(this.focusNodeMax,"valuemax",this.maximum);a=dojo.declare(dijit.form._SliderBarMover,{constructor:function(){this.widget=b}});this._movableBar=new dojo.dnd.Moveable(this.progressBar,
{mover:a})},destroy:function(){this.inherited(arguments);this._movableMax.destroy();this._movableBar.destroy()},_onKeyPress:function(b){if(!this.disabled&&!this.readOnly&&!b.altKey&&!b.ctrlKey){var a=b.currentTarget,c=!1,d=!1,e=dojo.keys;a==this.sliderHandle?c=!0:a==this.progressBar?d=c=!0:a==this.sliderHandleMax&&(d=!0);switch(b.keyCode){case e.HOME:this._setValueAttr(this.minimum,!0,d);break;case e.END:this._setValueAttr(this.maximum,!0,d);break;case this._descending||this.isLeftToRight()?e.RIGHT_ARROW:
e.LEFT_ARROW:case this._descending===!1?e.DOWN_ARROW:e.UP_ARROW:case this._descending===!1?e.PAGE_DOWN:e.PAGE_UP:c&&d?this._bumpValue([{change:b.keyCode==e.PAGE_UP?this.pageIncrement:1,useMaxValue:!0},{change:b.keyCode==e.PAGE_UP?this.pageIncrement:1,useMaxValue:!1}]):c?this._bumpValue(b.keyCode==e.PAGE_UP?this.pageIncrement:1,!0):d&&this._bumpValue(b.keyCode==e.PAGE_UP?this.pageIncrement:1);break;case this._descending||this.isLeftToRight()?e.LEFT_ARROW:e.RIGHT_ARROW:case this._descending===!1?e.UP_ARROW:
e.DOWN_ARROW:case this._descending===!1?e.PAGE_UP:e.PAGE_DOWN:c&&d?this._bumpValue([{change:b.keyCode==e.PAGE_DOWN?-this.pageIncrement:-1,useMaxValue:!1},{change:b.keyCode==e.PAGE_DOWN?-this.pageIncrement:-1,useMaxValue:!0}]):c?this._bumpValue(b.keyCode==e.PAGE_DOWN?-this.pageIncrement:-1):d&&this._bumpValue(b.keyCode==e.PAGE_DOWN?-this.pageIncrement:-1,!0);break;default:dijit.form._FormValueWidget.prototype._onKeyPress.apply(this,arguments);this.inherited(arguments);return}dojo.stopEvent(b)}},_onHandleClickMax:function(b){!this.disabled&&
!this.readOnly&&(dojo.isIE||dijit.focus(this.sliderHandleMax),dojo.stopEvent(b))},_onClkIncBumper:function(){this._setValueAttr(this._descending===!1?this.minimum:this.maximum,!0,!0)},_bumpValue:function(b,a){this._setValueAttr(dojo.isArray(b)?[this._getBumpValue(b[0].change,b[0].useMaxValue),this._getBumpValue(b[1].change,b[1].useMaxValue)]:this._getBumpValue(b,a),!0,!dojo.isArray(b)&&(b>0&&!a||a&&b<0))},_getBumpValue:function(b,a){var c=dojo.getComputedStyle(this.sliderBarContainer),d=dojo._getContentBox(this.sliderBarContainer,
c),c=this.discreteValues,e=!a?this.value[0]:this.value[1];if(c<=1||c==Infinity)c=d[this._pixelCount];c--;if(this._isReversed()&&b<0||b>0&&!this._isReversed())e=!a?this.value[1]:this.value[0];d=(e-this.minimum)*c/(this.maximum-this.minimum)+b;d<0&&(d=0);d>c&&(d=c);return d*(this.maximum-this.minimum)/c+this.minimum},_onBarClick:function(b){!this.disabled&&!this.readOnly&&(dojo.isIE||dijit.focus(this.progressBar),dojo.stopEvent(b))},_onRemainingBarClick:function(b){if(!this.disabled&&!this.readOnly){dojo.isIE||
dijit.focus(this.progressBar);var a=dojo.coords(this.sliderBarContainer,!0),c=dojo.coords(this.progressBar,!0),d=b[this._mousePixelCoord]-a[this._startingPixelCoord],e=c[this._startingPixelCount],c=e+c[this._pixelCount],e=this._isReversed()?d<=e:d>=c;this._setPixelValue(this._isReversed()?a[this._pixelCount]-d:d,a[this._pixelCount],!0,e);dojo.stopEvent(b)}},_setPixelValue:function(b,a,c,d){!this.disabled&&!this.readOnly&&this._setValueAttr(this._getValueByPixelValue(b,a),c,d)},_getValueByPixelValue:function(b,
a){var c=this.discreteValues;if(c<=1||c==Infinity)c=a;c--;return(this.maximum-this.minimum)*Math.round((b<0?0:a<b?a:b)/(a/c))/c+this.minimum},_setValueAttr:function(b,a,c){var d=this.value;dojo.isArray(b)?d=b:c?this._isReversed()?d[0]=b:d[1]=b:this._isReversed()?d[1]=b:d[0]=b;this._lastValueReported="";this.valueNode.value=this.value=b=d;dijit.setWaiState(this.focusNode,"valuenow",d[0]);dijit.setWaiState(this.focusNodeMax,"valuenow",d[1]);this.value.sort(this._isReversed()?g:f);dijit.form._FormValueWidget.prototype._setValueAttr.apply(this,
arguments);this._printSliderBar(a,c)},_printSliderBar:function(b){var a=(this.value[0]-this.minimum)/(this.maximum-this.minimum),c=(this.value[1]-this.minimum)/(this.maximum-this.minimum),d=a;a>c&&(a=c,c=d);var e=this._isReversed()?(1-a)*100:a*100,f=this._isReversed()?(1-c)*100:c*100,g=this._isReversed()?(1-c)*100:a*100;if(b&&this.slideDuration>0&&this.progressBar.style[this._progressPixelSize]){if(parseFloat(this.progressBar.style[this._handleOffsetCoord]),b=this.slideDuration/10,b!==0){b<0&&(b=
0-b);var h={},i={},d={};h[this._handleOffsetCoord]={start:this.sliderHandle.style[this._handleOffsetCoord],end:e,units:"%"};i[this._handleOffsetCoord]={start:this.sliderHandleMax.style[this._handleOffsetCoord],end:f,units:"%"};d[this._handleOffsetCoord]={start:this.progressBar.style[this._handleOffsetCoord],end:g,units:"%"};d[this._progressPixelSize]={start:this.progressBar.style[this._progressPixelSize],end:(c-a)*100,units:"%"};a=dojo.animateProperty({node:this.sliderHandle,duration:b,properties:h});
c=dojo.animateProperty({node:this.sliderHandleMax,duration:b,properties:i});b=dojo.animateProperty({node:this.progressBar,duration:b,properties:d});dojo.fx.combine([a,c,b]).play()}}else this.sliderHandle.style[this._handleOffsetCoord]=e+"%",this.sliderHandleMax.style[this._handleOffsetCoord]=f+"%",this.progressBar.style[this._handleOffsetCoord]=g+"%",this.progressBar.style[this._progressPixelSize]=(c-a)*100+"%"}});dojo.declare("dijit.form._SliderMoverMax",dijit.form._SliderMover,{onMouseMove:function(b){var a=
this.widget,c=a._abspos;if(!c)c=a._abspos=dojo.coords(a.sliderBarContainer,!0),a._setPixelValue_=dojo.hitch(a,"_setPixelValue"),a._isReversed_=a._isReversed();b=(b.touches?b.touches[0]:b)[a._mousePixelCoord]-c[a._startingPixelCoord];a._setPixelValue_(a._isReversed_?c[a._pixelCount]-b:b,c[a._pixelCount],!1,!0)},destroy:function(b){dojo.dnd.Mover.prototype.destroy.apply(this,arguments);var a=this.widget;a._abspos=null;a._setValueAttr(a.value,!0)}});dojo.declare("dijit.form._SliderBarMover",dojo.dnd.Mover,
{onMouseMove:function(b){var a=this.widget;if(!a.disabled&&!a.readOnly){var c=a._abspos,d=a._bar,e=a._mouseOffset;if(!c)c=a._abspos=dojo.coords(a.sliderBarContainer,!0),a._setPixelValue_=dojo.hitch(a,"_setPixelValue"),a._getValueByPixelValue_=dojo.hitch(a,"_getValueByPixelValue"),a._isReversed_=a._isReversed();if(!d)d=a._bar=dojo.coords(a.progressBar,!0);b=b.touches?b.touches[0]:b;if(!e)e=a._mouseOffset=b[a._mousePixelCoord]-c[a._startingPixelCoord]-d[a._startingPixelCount];e=b[a._mousePixelCoord]-
c[a._startingPixelCoord]-e;pixelValues=[e,e+d[a._pixelCount]];pixelValues.sort(f);pixelValues[0]<=0&&(pixelValues[0]=0,pixelValues[1]=d[a._pixelCount]);pixelValues[1]>=c[a._pixelCount]&&(pixelValues[1]=c[a._pixelCount],pixelValues[0]=c[a._pixelCount]-d[a._pixelCount]);c=[a._getValueByPixelValue(a._isReversed_?c[a._pixelCount]-pixelValues[0]:pixelValues[0],c[a._pixelCount]),a._getValueByPixelValue(a._isReversed_?c[a._pixelCount]-pixelValues[1]:pixelValues[1],c[a._pixelCount])];a._setValueAttr(c,!1,
!1)}},destroy:function(){dojo.dnd.Mover.prototype.destroy.apply(this,arguments);var b=this.widget;b._abspos=null;b._bar=null;b._mouseOffset=null;b._setValueAttr(b.value,!0)}});dojo.declare("dojox.form.HorizontalRangeSlider",[dijit.form.HorizontalSlider,dojox.form._RangeSliderMixin],{templateString:dojo.cache("dojox.form","resources/HorizontalRangeSlider.html",'<table class="dijit dijitReset dijitSlider dijitSliderH dojoxRangeSlider" cellspacing="0" cellpadding="0" border="0" rules="none" dojoAttachEvent="onkeypress:_onKeyPress,onkeyup:_onKeyUp"\n\t><tr class="dijitReset"\n\t\t><td class="dijitReset" colspan="2"></td\n\t\t><td dojoAttachPoint="topDecoration" class="dijitReset dijitSliderDecoration dijitSliderDecorationT dijitSliderDecorationH"></td\n\t\t><td class="dijitReset" colspan="2"></td\n\t></tr\n\t><tr class="dijitReset"\n\t\t><td class="dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\n\t\t\t><div class="dijitSliderDecrementIconH" tabIndex="-1" style="display:none" dojoAttachPoint="decrementButton"><span class="dijitSliderButtonInner">-</span></div\n\t\t></td\n\t\t><td class="dijitReset"\n\t\t\t><div class="dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper" dojoAttachEvent="onmousedown:_onClkDecBumper"></div\n\t\t></td\n\t\t><td class="dijitReset"\n\t\t\t><input dojoAttachPoint="valueNode" type="hidden" ${!nameAttrSetting}\n\t\t\t/><div role="presentation" class="dojoxRangeSliderBarContainer" dojoAttachPoint="sliderBarContainer"\n\t\t\t\t><div dojoAttachPoint="sliderHandle" tabIndex="${tabIndex}" class="dijitSliderMoveable dijitSliderMoveableH" dojoAttachEvent="onmousedown:_onHandleClick" role="slider" valuemin="${minimum}" valuemax="${maximum}"\n\t\t\t\t\t><div class="dijitSliderImageHandle dijitSliderImageHandleH"></div\n\t\t\t\t></div\n\t\t\t\t><div role="presentation" dojoAttachPoint="progressBar,focusNode" class="dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH" dojoAttachEvent="onmousedown:_onBarClick"></div\n\t\t\t\t><div dojoAttachPoint="sliderHandleMax,focusNodeMax" tabIndex="${tabIndex}" class="dijitSliderMoveable dijitSliderMoveableH" dojoAttachEvent="onmousedown:_onHandleClickMax" role="sliderMax" valuemin="${minimum}" valuemax="${maximum}"\n\t\t\t\t\t><div class="dijitSliderImageHandle dijitSliderImageHandleH"></div\n\t\t\t\t></div\n\t\t\t\t><div role="presentation" dojoAttachPoint="remainingBar" class="dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH" dojoAttachEvent="onmousedown:_onRemainingBarClick"></div\n\t\t\t></div\n\t\t></td\n\t\t><td class="dijitReset"\n\t\t\t><div class="dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper" dojoAttachEvent="onmousedown:_onClkIncBumper"></div\n\t\t></td\n\t\t><td class="dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\n\t\t\t><div class="dijitSliderIncrementIconH" tabIndex="-1" style="display:none" dojoAttachPoint="incrementButton"><span class="dijitSliderButtonInner">+</span></div\n\t\t></td\n\t></tr\n\t><tr class="dijitReset"\n\t\t><td class="dijitReset" colspan="2"></td\n\t\t><td dojoAttachPoint="containerNode,bottomDecoration" class="dijitReset dijitSliderDecoration dijitSliderDecorationB dijitSliderDecorationH"></td\n\t\t><td class="dijitReset" colspan="2"></td\n\t></tr\n></table>\n')});
dojo.declare("dojox.form.VerticalRangeSlider",[dijit.form.VerticalSlider,dojox.form._RangeSliderMixin],{templateString:dojo.cache("dojox.form","resources/VerticalRangeSlider.html",'<table class="dijitReset dijitSlider dijitSliderV dojoxRangeSlider" cellspacing="0" cellpadding="0" border="0" rules="none"\n\t><tr class="dijitReset"\n\t\t><td class="dijitReset"></td\n\t\t><td class="dijitReset dijitSliderButtonContainer dijitSliderButtonContainerV"\n\t\t\t><div class="dijitSliderIncrementIconV" tabIndex="-1" style="display:none" dojoAttachPoint="decrementButton" dojoAttachEvent="onclick: increment"><span class="dijitSliderButtonInner">+</span></div\n\t\t></td\n\t\t><td class="dijitReset"></td\n\t></tr\n\t><tr class="dijitReset"\n\t\t><td class="dijitReset"></td\n\t\t><td class="dijitReset"\n\t\t\t><center><div class="dijitSliderBar dijitSliderBumper dijitSliderBumperV dijitSliderTopBumper" dojoAttachEvent="onclick:_onClkIncBumper"></div></center\n\t\t></td\n\t\t><td class="dijitReset"></td\n\t></tr\n\t><tr class="dijitReset"\n\t\t><td dojoAttachPoint="leftDecoration" class="dijitReset dijitSliderDecoration dijitSliderDecorationL dijitSliderDecorationV" style="text-align:center;height:100%;"></td\n\t\t><td class="dijitReset" style="height:100%;"\n\t\t\t><input dojoAttachPoint="valueNode" type="hidden" ${!nameAttrSetting}\n\t\t\t/><center role="presentation" style="position:relative;height:100%;" dojoAttachPoint="sliderBarContainer"\n\t\t\t\t><div role="presentation" dojoAttachPoint="remainingBar" class="dijitSliderBar dijitSliderBarV dijitSliderRemainingBar dijitSliderRemainingBarV" dojoAttachEvent="onmousedown:_onRemainingBarClick"\n\t\t\t\t\t><div dojoAttachPoint="sliderHandle" tabIndex="${tabIndex}" class="dijitSliderMoveable dijitSliderMoveableV" dojoAttachEvent="onkeypress:_onKeyPress,onmousedown:_onHandleClick" style="vertical-align:top;" role="slider" valuemin="${minimum}" valuemax="${maximum}"\n\t\t\t\t\t\t><div class="dijitSliderImageHandle dijitSliderImageHandleV"></div\n\t\t\t\t\t></div\n\t\t\t\t\t><div role="presentation" dojoAttachPoint="progressBar,focusNode" tabIndex="${tabIndex}" class="dijitSliderBar dijitSliderBarV dijitSliderProgressBar dijitSliderProgressBarV" dojoAttachEvent="onkeypress:_onKeyPress,onmousedown:_onBarClick"\n\t\t\t\t\t></div\n\t\t\t\t\t><div dojoAttachPoint="sliderHandleMax,focusNodeMax" tabIndex="${tabIndex}" class="dijitSliderMoveable dijitSliderMoveableV" dojoAttachEvent="onkeypress:_onKeyPress,onmousedown:_onHandleClickMax" style="vertical-align:top;" role="slider" valuemin="${minimum}" valuemax="${maximum}"\n\t\t\t\t\t\t><div class="dijitSliderImageHandle dijitSliderImageHandleV"></div\n\t\t\t\t\t></div\n\t\t\t\t></div\n\t\t\t></center\n\t\t></td\n\t\t><td dojoAttachPoint="containerNode,rightDecoration" class="dijitReset dijitSliderDecoration dijitSliderDecorationR dijitSliderDecorationV" style="text-align:center;height:100%;"></td\n\t></tr\n\t><tr class="dijitReset"\n\t\t><td class="dijitReset"></td\n\t\t><td class="dijitReset"\n\t\t\t><center><div class="dijitSliderBar dijitSliderBumper dijitSliderBumperV dijitSliderBottomBumper" dojoAttachEvent="onclick:_onClkDecBumper"></div></center\n\t\t></td\n\t\t><td class="dijitReset"></td\n\t></tr\n\t><tr class="dijitReset"\n\t\t><td class="dijitReset"></td\n\t\t><td class="dijitReset dijitSliderButtonContainer dijitSliderButtonContainerV"\n\t\t\t><div class="dijitSliderDecrementIconV" tabIndex="-1" style="display:none" dojoAttachPoint="incrementButton" dojoAttachEvent="onclick: decrement"><span class="dijitSliderButtonInner">-</span></div\n\t\t></td\n\t\t><td class="dijitReset"></td\n\t></tr\n></table>\n')})}());