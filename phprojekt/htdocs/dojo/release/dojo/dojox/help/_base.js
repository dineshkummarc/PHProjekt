/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["dojox.help._base"])dojo._hasResource["dojox.help._base"]=!0,dojo.provide("dojox.help._base"),dojo.require("dojox.rpc.Service"),dojo.require("dojo.io.script"),dojo.experimental("dojox.help"),console.warn("Script causes side effects (on numbers, strings, and booleans). Call dojox.help.noConflict() if you plan on executing code."),dojox.help={locate:function(b,a,f){var f=f||20,d=[],g={},e;if(a){dojo.isArray(a)||(a=[a]);for(var c=0,h;h=a[c];c++){e=h;if(dojo.isString(h)){if(h=dojo.getObject(h),
!h)continue}else if(dojo.isObject(h))e=h.__name__;else continue;d.push(h);e&&(e=e.split(".")[0],!g[e]&&dojo.indexOf(dojox.help._namespaces,e)==-1&&dojox.help.refresh(e),g[e]=!0)}}d.length||(d.push({__name__:"window"}),dojo.forEach(dojox.help._namespaces,function(a){g[a]=!0}));b=b.toLowerCase();a=[];c=0;a:for(;h=d[c];c++){var j=h.__name__||"";e=dojo.some(d,function(a){a=a.__name__||"";return j.indexOf(a+".")==0});if(j&&!e){e=j.split(".")[0];h=[];if(j=="window")for(e in dojox.help._names)dojo.isArray(dojox.help._names[e])&&
(h=h.concat(dojox.help._names[e]));else h=dojox.help._names[e];e=0;for(var i;i=h[e];e++)if((j=="window"||i.indexOf(j+".")==0)&&i.toLowerCase().indexOf(b)!=-1&&i.slice(-10)!=".prototype"){var k=dojo.getObject(i);if(k&&(a.push([i,k]),a.length==f))break a}}}dojox.help._displayLocated(a);if(!dojo.isMoz)return""},refresh:function(b,a){arguments.length<2&&(a=!0);dojox.help._recurse(b,a)},noConflict:function(b){if(arguments.length)return dojox.help._noConflict(b);else for(;dojox.help._overrides.length;){var a=
dojox.help._overrides.pop(),f=a[0],a=a[1];f[a]=dojox.help._noConflict(f[a])}},init:function(b){b&&dojox.help._namespaces.concat(b);dojo.addOnLoad(function(){dojo.require=function(a){return function(){dojox.help.noConflict();a.apply(dojo,arguments);dojox.help._timer&&clearTimeout(dojox.help._timer);dojox.help._timer=setTimeout(function(){dojo.addOnLoad(function(){dojox.help.refresh();dojox.help._timer=!1})},500)}}(dojo.require);dojox.help._recurse()})},_noConflict:function(b){if(b instanceof String)return b.toString();
else if(b instanceof Number)return+b;else if(b instanceof Boolean)return b==!0;else dojo.isObject(b)&&(delete b.__name__,delete b.help);return b},_namespaces:["dojo","dojox","dijit","djConfig"],_rpc:new dojox.rpc.Service(dojo.moduleUrl("dojox.rpc.SMDLibrary","dojo-api.smd")),_attributes:["summary","type","returns","parameters"],_clean:function(b){for(var a={},f=0,d;d=dojox.help._attributes[f];f++){var g=b["__"+d+"__"];g&&(a[d]=g)}return a},_displayLocated:function(){throw Error("_displayLocated should be overridden in one of the dojox.help packages");
},_displayHelp:function(){throw Error("_displayHelp should be overridden in one of the dojox.help packages");},_addVersion:function(b){if(b.name){b.version=[dojo.version.major,dojo.version.minor,dojo.version.patch].join(".");var a=b.name.split(".");if(a[0]=="dojo"||a[0]=="dijit"||a[0]=="dojox")b.project=a[0]}return b},_stripPrototype:function(b){var a=b.replace(/\.prototype(\.|$)/g,"."),f=a;a.slice(-1)=="."?f=a=a.slice(0,-1):a=b;return[f,a]},_help:function(){for(var b=dojox.help._stripPrototype(this.__name__)[0],
a=[],f=0,d;d=dojox.help._attributes[f];f++)this["__"+d+"__"]||a.push(d);dojox.help._displayHelp(!0,{name:this.__name__});!a.length||this.__searched__?dojox.help._displayHelp(!1,dojox.help._clean(this)):(this.__searched__=!0,dojox.help._rpc.get(dojox.help._addVersion({name:b,exact:!0,attributes:a})).addCallback(this,function(a){this.toString===dojox.help._toString&&this.toString(a);if(a&&a.length){for(var a=a[0],b=0,c;c=dojox.help._attributes[b];b++)a[c]&&(this["__"+c+"__"]=a[c]);dojox.help._displayHelp(!1,
dojox.help._clean(this))}else dojox.help._displayHelp(!1,!1)}));if(!dojo.isMoz)return""},_parse:function(b){delete this.__searching__;if(b&&b.length){if(b=b[0].parameters){var a=["function ",this.__name__,"("];this.__parameters__=b;for(var f=0,d;d=b[f];f++){f&&a.push(", ");a.push(d.name);if(d.types){for(var g=[],e=0,c;c=d.types[e];e++)g.push(c.title);g.length&&(a.push(": "),a.push(g.join("|")))}d.repeating&&a.push("...");d.optional&&a.push("?")}a.push(")");this.__source__=this.__source__.replace(/function[^\(]*\([^\)]*\)/,
a.join(""))}this.__output__&&(delete this.__output__,console.log(this))}else dojox.help._displayHelp(!1,!1)},_toStrings:{},_toString:function(b){if(!this.__source__)return this.__name__;var a=!this.__parameters__;this.__parameters__=[];if(b)dojox.help._parse.call(this,b);else if(a)this.__searching__=!0,dojox.help._toStrings[dojox.help._stripPrototype(this.__name__)[0]]=this,dojox.help._toStringTimer&&clearTimeout(dojox.help._toStringTimer),dojox.help._toStringTimer=setTimeout(function(){dojox.help.__toString()},
50);if(!a||!this.__searching__)return this.__source__;var f="function Loading info for "+this.__name__+"... (watch console for result) {}";return!dojo.isMoz?(this.__output__=!0,f):{toString:dojo.hitch(this,function(){this.__output__=!0;return f})}},__toString:function(){dojox.help._toStringTimer&&clearTimeout(dojox.help._toStringTimer);var b=[];dojox.help.noConflict(dojox.help._toStrings);for(var a in dojox.help._toStrings)b.push(a);for(;b.length;)dojox.help._rpc.batch(dojox.help._addVersion({names:b.splice(-50,
50),exact:!0,attributes:["parameters"]})).addCallback(this,function(a){for(var b=0,g;g=a[b];b++){var e=dojox.help._toStrings[g.name];e&&(dojox.help._parse.call(e,[g]),delete dojox.help._toStrings[g.name])}})},_overrides:[],_recursions:[],_names:{},_recurse:function(b,a){arguments.length<2&&(a=!0);var f=[];if(b&&dojo.isString(b))dojox.help.__recurse(dojo.getObject(b),b,b,f,a);else for(var d=0,g;g=dojox.help._namespaces[d];d++)if(window[g]&&(dojox.help._recursions.push([window[g],g,g]),window[g].__name__=
g,!window[g].help))window[g].help=dojox.help._help;for(;dojox.help._recursions.length;)d=dojox.help._recursions.shift(),dojox.help.__recurse(d[0],d[1],d[2],f,a);for(d=0;g=f[d];d++)delete g.__seen__},__recurse:function(b,a,f,d,g){for(var e in b)if(!e.match(/([^\w_.$]|__[\w_.$]+__)/)){var c=b[e];if(!(typeof c=="undefined"||c===document||c===window||c===dojox.help._toString||c===dojox.help._help||c===null||+dojo.isIE&&c.tagName||c.__seen__)){var h=dojo.isFunction(c),j=dojo.isObject(c)&&!dojo.isArray(c)&&
!c.nodeType,i=f?f+"."+e:e;if(i!="dojo._blockAsync"){if(!c.__name__){var k=null;dojo.isString(c)?k=String:typeof c=="number"?k=Number:typeof c=="boolean"&&(k=Boolean);k&&(c=b[e]=new k(c))}c.__seen__=!0;c.__name__=i;(dojox.help._names[a]=dojox.help._names[a]||[]).push(i);d.push(c);h||dojox.help._overrides.push([b,e]);(h||j)&&g&&dojox.help._recursions.push([c,a,i]);if(h){if(!c.__source__)c.__source__=c.toString().replace(/^function\b ?/,"function "+i);if(c.toString===Function.prototype.toString)c.toString=
dojox.help._toString}if(!c.help)c.help=dojox.help._help}}}}};