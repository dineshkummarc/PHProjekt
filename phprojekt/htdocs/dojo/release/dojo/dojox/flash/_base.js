/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["dojox.flash._base"])dojo._hasResource["dojox.flash._base"]=!0,dojo.provide("dojox.flash._base"),dojo.experimental("dojox.flash"),dojo.require("dojo.window"),dojox.flash=function(){},dojox.flash={ready:!1,url:null,_visible:!0,_loadedListeners:[],_installingListeners:[],setSwf:function(a,b){this.url=a;this._visible=!0;if(b!==null&&b!==void 0)this._visible=b;this._initialize()},addLoadedListener:function(a){this._loadedListeners.push(a)},addInstallingListener:function(a){this._installingListeners.push(a)},
loaded:function(){dojox.flash.ready=!0;if(dojox.flash._loadedListeners.length)for(var a=0;a<dojox.flash._loadedListeners.length;a++)dojox.flash._loadedListeners[a].call(null)},installing:function(){if(dojox.flash._installingListeners.length)for(var a=0;a<dojox.flash._installingListeners.length;a++)dojox.flash._installingListeners[a].call(null)},_initialize:function(){var a=new dojox.flash.Install;dojox.flash.installer=a;a.needed()?a.install():(dojox.flash.obj=new dojox.flash.Embed(this._visible),
dojox.flash.obj.write(),dojox.flash.comm=new dojox.flash.Communicator)}},dojox.flash.Info=function(){this._detectVersion()},dojox.flash.Info.prototype={version:-1,versionMajor:-1,versionMinor:-1,versionRevision:-1,capable:!1,installing:!1,isVersionOrAbove:function(a,b,c){c=parseFloat("."+c);return this.versionMajor>=a&&this.versionMinor>=b&&this.versionRevision>=c?!0:!1},_detectVersion:function(){for(var a,b=25;b>0;b--){if(dojo.isIE){var c;try{if(c=b>6?new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+
b):new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),typeof c=="object"){if(b==6)c.AllowScriptAccess="always";a=c.GetVariable("$version")}}catch(d){continue}}else a=this._JSFlashInfo(b);if(a==-1){this.capable=!1;break}else if(a!=0){a=dojo.isIE?a.split(" ")[1].split(","):a.split(".");this.versionMajor=a[0];this.versionMinor=a[1];this.versionRevision=a[2];this.version=parseFloat(this.versionMajor+"."+this.versionRevision);this.capable=!0;break}}},_JSFlashInfo:function(){if(navigator.plugins!=null&&
navigator.plugins.length>0&&(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"])){var a=navigator.plugins["Shockwave Flash"+(navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"")].description.split(" "),b=a[2].split("."),c=b[0],b=b[1],a=(a[3]||a[4]).split("r");return c+"."+b+"."+(a[1]>0?a[1]:0)}return-1}},dojox.flash.Embed=function(a){this._visible=a},dojox.flash.Embed.prototype={width:215,height:138,id:"flashObject",_visible:!0,protocol:function(){switch(window.location.protocol){case "https:":return"https";
default:return"http"}},write:function(a){var b,c=dojox.flash.url,d=c,e=dojo.baseUrl,f=document.location.protocol+"//"+document.location.host;if(a){a=escape(window.location);document.title=document.title.slice(0,47)+" - Flash Player Installation";var g=escape(document.title);d+="?MMredirectURL="+a+"&MMplayerType=ActiveX&MMdoctitle="+g+"&baseUrl="+escape(e)+"&xdomain="+escape(f);c+="?MMredirectURL="+a+"&MMplayerType=PlugIn&baseUrl="+escape(e)+"&xdomain="+escape(f)}else d+="?cachebust="+(new Date).getTime(),
d+="&baseUrl="+escape(e),d+="&xdomain="+escape(f);c+=c.indexOf("?")==-1?"?baseUrl="+escape(e):"&baseUrl="+escape(e);c+="&xdomain="+escape(f);b='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+this.protocol()+'://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=8,0,0,0"\n width="'+this.width+'"\n height="'+this.height+'"\n id="'+this.id+'"\n name="'+this.id+'"\n align="middle">\n <param name="allowScriptAccess" value="always"></param>\n <param name="movie" value="'+
d+'"></param>\n <param name="quality" value="high"></param>\n <param name="bgcolor" value="#ffffff"></param>\n <embed src="'+c+'" quality="high" bgcolor="#ffffff" width="'+this.width+'" height="'+this.height+'" id="'+this.id+'Embed" name="'+this.id+'" swLiveConnect="true" align="middle" allowScriptAccess="always" type="application/x-shockwave-flash" pluginspage="'+this.protocol()+'://www.macromedia.com/go/getflashplayer" ></embed>\n</object>\n';dojo.connect(dojo,"loaded",dojo.hitch(this,function(){if(!dojo.byId(this.id+
"Container")){var a=document.createElement("div");a.id=this.id+"Container";a.style.width=this.width+"px";a.style.height=this.height+"px";if(!this._visible)a.style.position="absolute",a.style.zIndex="10000",a.style.top="-1000px";a.innerHTML=b;var c=document.getElementsByTagName("body");if(!c||!c.length)throw Error("No body tag for this page");c=c[0];c.appendChild(a)}}))},get:function(){return dojo.isIE||dojo.isWebKit?dojo.byId(this.id):document[this.id+"Embed"]},setVisible:function(a){var b=dojo.byId(this.id+
"Container");a?(b.style.position="absolute",b.style.visibility="visible"):(b.style.position="absolute",b.style.y="-1000px",b.style.visibility="hidden")},center:function(){var a=this.width,b=this.height,c=dojo.window.getBox(),a=c.l+(c.w-a)/2,b=c.t+(c.h-b)/2,c=dojo.byId(this.id+"Container");c.style.top=b+"px";c.style.left=a+"px"}},dojox.flash.Communicator=function(){},dojox.flash.Communicator.prototype={_addExternalInterfaceCallback:function(a){var b=dojo.hitch(this,function(){for(var b=Array(arguments.length),
d=0;d<arguments.length;d++)b[d]=this._encodeData(arguments[d]);b=this._execFlash(a,b);return b=this._decodeData(b)});this[a]=b},_encodeData:function(a){if(!a||typeof a!="string")return a;a=a.replace("\\","&custom_backslash;");return a=a.replace(/\0/g,"&custom_null;")},_decodeData:function(a){a&&a.length&&typeof a!="string"&&(a=a[0]);if(!a||typeof a!="string")return a;a=a.replace(/\&custom_null\;/g,"\000");return a=a.replace(/\&custom_lt\;/g,"<").replace(/\&custom_gt\;/g,">").replace(/\&custom_backslash\;/g,
"\\")},_execFlash:function(a,b){for(var c=dojox.flash.obj.get(),b=b?b:[],d=0;d<b;d++)typeof b[d]=="string"&&(b[d]=this._encodeData(b[d]));d=function(){return eval(c.CallFunction('<invoke name="'+a+'" returntype="javascript">'+__flash__argumentsToXML(b,0)+"</invoke>"))}.call(b);typeof d=="string"&&(d=this._decodeData(d));return d}},dojox.flash.Install=function(){},dojox.flash.Install.prototype={needed:function(){return!dojox.flash.info.capable?!0:!dojox.flash.info.isVersionOrAbove(8,0,0)?!0:!1},install:function(){var a;
dojox.flash.info.installing=!0;dojox.flash.installing();dojox.flash.info.capable==!1?(a=new dojox.flash.Embed(!1),a.write()):dojox.flash.info.isVersionOrAbove(6,0,65)?(a=new dojox.flash.Embed(!1),a.write(!0),a.setVisible(!0),a.center()):(alert("This content requires a more recent version of the Macromedia  Flash Player."),window.location.href=+dojox.flash.Embed.protocol()+"://www.macromedia.com/go/getflashplayer")},_onInstallStatus:function(a){a=="Download.Complete"?dojox.flash._initialize():a=="Download.Cancelled"?
(alert("This content requires a more recent version of the Macromedia  Flash Player."),window.location.href=dojox.flash.Embed.protocol()+"://www.macromedia.com/go/getflashplayer"):a=="Download.Failed"&&alert("There was an error downloading the Flash Player update. Please try again later, or visit macromedia.com to download the latest version of the Flash plugin.")}},dojox.flash.info=new dojox.flash.Info;