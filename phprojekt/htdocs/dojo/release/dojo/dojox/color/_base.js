/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["dojox.color._base"])dojo._hasResource["dojox.color._base"]=!0,dojo.provide("dojox.color._base"),dojo.require("dojo.colors"),dojox.color.Color=dojo.Color,dojox.color.blend=dojo.blendColors,dojox.color.fromRgb=dojo.colorFromRgb,dojox.color.fromHex=dojo.colorFromHex,dojox.color.fromArray=dojo.colorFromArray,dojox.color.fromString=dojo.colorFromString,dojox.color.greyscale=dojo.colors.makeGrey,dojo.mixin(dojox.color,{fromCmy:function(a,d,b){if(dojo.isArray(a))d=a[1],b=a[2],a=a[0];
else if(dojo.isObject(a))d=a.m,b=a.y,a=a.c;a/=100;d/=100;b/=100;return new dojox.color.Color({r:Math.round((1-a)*255),g:Math.round((1-d)*255),b:Math.round((1-b)*255)})},fromCmyk:function(a,d,b,c){if(dojo.isArray(a))d=a[1],b=a[2],c=a[3],a=a[0];else if(dojo.isObject(a))d=a.m,b=a.y,c=a.b,a=a.c;a/=100;d/=100;b/=100;c/=100;return new dojox.color.Color({r:Math.round((1-Math.min(1,a*(1-c)+c))*255),g:Math.round((1-Math.min(1,d*(1-c)+c))*255),b:Math.round((1-Math.min(1,b*(1-c)+c))*255)})},fromHsl:function(a,
d,b){if(dojo.isArray(a))d=a[1],b=a[2],a=a[0];else if(dojo.isObject(a))d=a.s,b=a.l,a=a.h;d/=100;for(b/=100;a<0;)a+=360;for(;a>=360;)a-=360;var c,e;a<120?(c=(120-a)/60,e=a/60,a=0):a<240?(c=0,e=(240-a)/60,a=(a-120)/60):(c=(a-240)/60,e=0,a=(360-a)/60);c=2*d*Math.min(c,1)+(1-d);e=2*d*Math.min(e,1)+(1-d);a=2*d*Math.min(a,1)+(1-d);b<0.5?(c*=b,e*=b,a*=b):(c=(1-b)*c+2*b-1,e=(1-b)*e+2*b-1,a=(1-b)*a+2*b-1);return new dojox.color.Color({r:Math.round(c*255),g:Math.round(e*255),b:Math.round(a*255)})},fromHsv:function(a,
d,b){if(dojo.isArray(a))d=a[1],b=a[2],a=a[0];else if(dojo.isObject(a))d=a.s,b=a.v,a=a.h;a==360&&(a=0);d/=100;b/=100;var c,e,f;if(d==0)e=f=c=b;else{var g=a/60,a=Math.floor(g),h=g-a,g=b*(1-d),i=b*(1-d*h),d=b*(1-d*(1-h));switch(a){case 0:c=b;e=d;f=g;break;case 1:c=i;e=b;f=g;break;case 2:c=g;e=b;f=d;break;case 3:c=g;e=i;f=b;break;case 4:c=d;e=g;f=b;break;case 5:c=b,e=g,f=i}}return new dojox.color.Color({r:Math.round(c*255),g:Math.round(e*255),b:Math.round(f*255)})}}),dojo.extend(dojox.color.Color,{toCmy:function(){return{c:Math.round((1-
this.r/255)*100),m:Math.round((1-this.g/255)*100),y:Math.round((1-this.b/255)*100)}},toCmyk:function(){var a,d=this.r/255,b=this.g/255,c=this.b/255;a=Math.min(1-d,1-b,1-c);return{c:Math.round((1-d-a)/(1-a)*100),m:Math.round((1-b-a)/(1-a)*100),y:Math.round((1-c-a)/(1-a)*100),b:Math.round(a*100)}},toHsl:function(){var a=this.r/255,d=this.g/255,b=this.b/255,c=Math.min(a,b,d),e=Math.max(a,d,b),f=e-c,g=0,h=0,c=(c+e)/2;c>0&&c<1&&(h=f/(c<0.5?2*c:2-2*c));f>0&&(e==a&&e!=d&&(g+=(d-b)/f),e==d&&e!=b&&(g+=2+(b-
a)/f),e==b&&e!=a&&(g+=4+(a-d)/f),g*=60);return{h:g,s:Math.round(h*100),l:Math.round(c*100)}},toHsv:function(){var a=this.r/255,d=this.g/255,b=this.b/255,c=Math.max(a,d,b),e=c-Math.min(a,b,d),f=null,g=c==0?0:e/c;g==0?f=0:(f=a==c?60*(d-b)/e:d==c?120+60*(b-a)/e:240+60*(a-d)/e,f<0&&(f+=360));return{h:f,s:Math.round(g*100),v:Math.round(c*100)}}});