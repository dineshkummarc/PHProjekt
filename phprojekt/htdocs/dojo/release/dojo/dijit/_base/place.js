/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["dijit._base.place"])dojo._hasResource["dijit._base.place"]=!0,dojo.provide("dijit._base.place"),dojo.require("dojo.window"),dojo.require("dojo.AdapterRegistry"),dijit.getViewport=function(){return dojo.window.getBox()},dijit.placeOnScreen=function(b,a,c,d){c=dojo.map(c,function(c){var b={corner:c,pos:{x:a.x,y:a.y}};d&&(b.pos.x+=c.charAt(1)=="L"?d.x:-d.x,b.pos.y+=c.charAt(0)=="T"?d.y:-d.y);return b});return dijit._place(b,c)},dijit._place=function(b,a,c,d){var e=dojo.window.getBox();
(!b.parentNode||String(b.parentNode.tagName).toLowerCase()!="body")&&dojo.body().appendChild(b);var f=null;dojo.some(a,function(a){var g=a.corner,h=a.pos,j=0,k={w:g.charAt(1)=="L"?e.l+e.w-h.x:h.x-e.l,h:g.charAt(1)=="T"?e.t+e.h-h.y:h.y-e.t};c&&(j=c(b,a.aroundCorner,g,k,d),j=typeof j=="undefined"?0:j);var i=b.style,m=i.display,n=i.visibility;i.visibility="hidden";i.display="";var l=dojo.marginBox(b);i.display=m;i.visibility=n;i=Math.max(e.l,g.charAt(1)=="L"?h.x:h.x-l.w);m=Math.max(e.t,g.charAt(0)==
"T"?h.y:h.y-l.h);n=Math.min(e.l+e.w,g.charAt(1)=="L"?i+l.w:h.x);h=Math.min(e.t+e.h,g.charAt(0)=="T"?m+l.h:h.y);n-=i;h-=m;j+=l.w-n+(l.h-h);if(f==null||j<f.overflow)f={corner:g,aroundCorner:a.aroundCorner,x:i,y:m,w:n,h:h,overflow:j,spaceAvailable:k};return!j});f.overflow&&c&&c(b,f.aroundCorner,f.corner,f.spaceAvailable,d);var a=dojo._isBodyLtr(),k=b.style;k.top=f.y+"px";k[a?"left":"right"]=(a?f.x:e.w-f.x-f.w)+"px";return f},dijit.placeOnScreenAroundNode=function(b,a,c,d){a=dojo.byId(a);a=dojo.position(a,
!0);return dijit._placeOnScreenAroundRect(b,a.x,a.y,a.w,a.h,c,d)},dijit.placeOnScreenAroundRectangle=function(b,a,c,d){return dijit._placeOnScreenAroundRect(b,a.x,a.y,a.width,a.height,c,d)},dijit._placeOnScreenAroundRect=function(b,a,c,d,e,f,k){var o=[],g;for(g in f)o.push({aroundCorner:g,corner:f[g],pos:{x:a+(g.charAt(1)=="L"?0:d),y:c+(g.charAt(0)=="T"?0:e)}});return dijit._place(b,o,k,{w:d,h:e})},dijit.placementRegistry=new dojo.AdapterRegistry,dijit.placementRegistry.register("node",function(b,
a){return typeof a=="object"&&typeof a.offsetWidth!="undefined"&&typeof a.offsetHeight!="undefined"},dijit.placeOnScreenAroundNode),dijit.placementRegistry.register("rect",function(b,a){return typeof a=="object"&&"x"in a&&"y"in a&&"width"in a&&"height"in a},dijit.placeOnScreenAroundRectangle),dijit.placeOnScreenAroundElement=function(b,a,c,d){return dijit.placementRegistry.match.apply(dijit.placementRegistry,arguments)},dijit.getPopupAroundAlignment=function(b,a){var c={};dojo.forEach(b,function(b){switch(b){case "after":c[a?
"BR":"BL"]=a?"BL":"BR";break;case "before":c[a?"BL":"BR"]=a?"BR":"BL";break;case "below-alt":a=!a;case "below":c[a?"BL":"BR"]=a?"TL":"TR";c[a?"BR":"BL"]=a?"TR":"TL";break;case "above-alt":a=!a;default:c[a?"TL":"TR"]=a?"BL":"BR",c[a?"TR":"TL"]=a?"BR":"BL"}});return c};